<!DOCTYPE html><html><head><style>body {
    margin: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    background: #1a1a1a;
    color: white;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

header {
    background: #2d2d2d;
    padding: 15px 25px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid #ffd43b;
}

.logo { font-weight: bold; font-size: 20px; color: #ffd43b; }

.container { display: flex; flex: 1; overflow: hidden; }

#editor {
    flex: 1;
    background: #1e1e1e;
    color: #9cdcfe;
    padding: 20px;
    font-family: 'Consolas', monospace;
    font-size: 16px;
    border: none;
    outline: none;
    resize: none;
}

#preview {
    flex: 1;
    background: white;
    display: flex;
    flex-direction: column;
}

.preview-bar {
    background: #eee;
    color: #333;
    padding: 5px 15px;
    font-size: 12px;
    border-bottom: 1px solid #ccc;
}

#display { flex: 1; padding: 25px; color: black; overflow-y: auto; }

#run-btn {
    background: #3776ab;
    color: white;
    border: none;
    padding: 10px 25px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
}

#run-btn:hover { background: #ffd43b; color: #222; }</style></head><body><!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>تيتان - محرر بايثون</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/brython/3.12.0/brython.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/brython/3.12.0/brython_stdlib.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body onload="brython()">

    <header>
        <div class="logo">TITAN EDITOR ⚡</div>
        <button id="run-btn">تشغيل الكود فوراً ▶</button>
    </header>

    <main class="container">
        <textarea id="editor" spellcheck="false">
from browser import document, html
print("المحرك اشتغل!")
document["display"] <= html.H1("تم الربط بنجاح!")
        </textarea>

        <div id="preview">
            <div id="display"></div>
        </div>
    </main>

    <script type="text/python" id="logic_engine">
from browser import document, window

def execute_now():
    document["display"].html = ""
    user_code = document["editor"].value
    try:
        exec(user_code)
    except Exception as e:
        document["display"].html = f"<p style='color:red'>{e}</p>"

window.run_python_now = execute_now
    </script>

    <script src="script.js"></script>
</body>
</html><script>document.getElementById('run-btn').addEventListener('click', function() {
    // التحقق المباشر من وجود الدالة في نافذة المتصفح
    if (typeof window.run_python_now === 'function') {
        window.run_python_now();
    } else {
        // إذا لم يحمل بعد، نجبر المتصفح على محاولة التشغيل مرة أخرى
        console.log("جاري تفعيل المحرك...");
        setTimeout(() => {
            if (window.run_python_now) window.run_python_now();
        }, 500);
    }
});</script></body></html>